<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <meta name="description" content="Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction">
  <meta property="og:title" content="Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction"/>
  <meta property="og:description" content="Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction"/>
  <meta property="og:url" content="https://example.com"/>
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
  <meta property="og:image" content="static/image/your_banner_image.png" />
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>


  <meta name="twitter:title" content="Open4DHOI">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
  <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Keywords for your paper to be indexed by-->
  <meta name="keywords" content="Computer Vision, Open3DHOI, 3D reconstruction, HOI dataset">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title>Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction</title>
  <link rel="icon" type="image/x-icon" href="static/images/fav.jpg">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
  rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="./slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="./slick/slick-theme.css"/>

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  <style>
    .scrolling-wrapper-flexbox {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 20px;
      padding-bottom: 20px;
      -webkit-overflow-scrolling: touch;
    }
    .pdf-card {
      flex: 0 0 auto;
      width: 80vw;
      max-width: 1000px;
      height: 600px;
      border: 1px solid #dbdbdb;
      border-radius: 4px;
      overflow: hidden;
    }
    .pdf-card embed {
      width: 100%;
      height: 100%;
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
</head>
<body>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction</h1>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">
                <a href="https://github.com/wenboran2002/" target="_blank">Boran Wen*</a><sup>1,2</sup></sup>,</span>
                <span class="author-block">
                <a href="https://orcid.org/0009-0000-2517-5956" target="_blank">Ye Lu*</a><sup>1</sup></sup>,</span>
                  <span class="author-block">
                    <a href="https://github.com/otehemia" target="_blank">Keyan Wan</a><sup>3</sup></sup>,</span>
                       <span class="author-block">
                          <a href="https://orcid.org/0009-0006-2349-2230" target="_blank">Sirui Wang</a><sup>4</sup></sup>,</span>
                          <span class="author-block">
                                    <a href="https://github.com/jakecodespace" target="_blank">Jiahong Zhou<sup>1</sup></a>,</span>
                          <span class="author-block">
                                    <a href="https://hitefork.github.io/" target="_blank">Junxuan Liang<sup>1,2</sup></a>,</span>
                          <span class="author-block">
                                  <a href="https://foruck.github.io/" target="_blank">Xinpeng Liu<sup>1,2</sup></a>,</span>
                              <span class="author-block">
                                <a href="https://dingbang777.github.io/" target="_blank">DingBang Huang<sup>1</sup></a>,</span>
                                <span class="author-block">
                          <a href="https://scholar.google.com/citations?user=YFsP900AAAAJ&hl=en" target="_blank">Ruiyang Liu<sup>5</sup></a>,</span>
                           <span class="author-block">
                          <a href="https://dirtyharrylyl.github.io/" target="_blank">Yong-Lu Li<sup>1,2</sup></a></span>
                  </div>

                  <div class="is-size-5 publication-authors">
                    <span class="author-block">SJTU<sup>1</sup>, Sii<sup>2</sup>, FDU<sup>3</sup>,BJTU<sup>4</sup>, STU<sup>5</sup></span>
                  </div>

                  <div class="column has-text-centered">
                    <div class="publication-links">
                    <!-- Arxiv PDF link -->
                    <span class="link-block">
                      <a href="#" target="_blank"
                      class="external-link button is-normal is-rounded is-dark animated-button">
                      <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                      </span>
                      <span>Paper</span>
                      </a>
                    </span>

                    <!-- Github link -->
                    <span class="link-block">
                      <a href="#" target="_blank"
                      class="external-link button is-normal is-rounded is-dark animated-button">
                      <span class="icon">
                        <i class="fab fa-github"></i>
                      </span>
                      <span>Code</span>
                      </a>
                    </span>

                    <!-- ArXiv abstract Link -->
                    <span class="link-block">
                      <a href="#" target="_blank"
                      class="external-link button is-normal is-rounded is-dark animated-button">
                      <span class="icon">
                        <i class="ai ai-arxiv"></i>
                      </span>
                      <span>arXiv</span>
                      </a>
                    </span>

                    <!-- Gradio Link -->
                    <span class="link-block">
                      <a href="#" target="_blank"
                      class="external-link button is-normal is-rounded is-dark animated-button">
                      <span class="icon">
                        <i class="fas fa-gamepad"></i>
                      </span>
                      <span>Gradio</span>
                      </a>
                    </span>

                    <!-- Dataset Link -->
                    <span class="link-block">
                      <a href="#" target="_blank"
                      class="external-link button is-normal is-rounded is-dark animated-button">
                      <span class="icon">
                        <i class="fas fa-database"></i>
                      </span>
                      <span>Dataset</span>
                      </a>
                    </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Teaser Video -->
<section class="hero teaser">
  <div class="container is-max-widescreen">
    <div class="hero-body">
      <div class="video-container" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;">
        <iframe src="https://www.youtube.com/embed/eIoUBbeRM08" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
      </div>
      <h2 class="subtitle has-text-centered">
        Efficient and Scalable Monocular Human-Object Interaction Motion Reconstruction.
      </h2>
    </div>
  </div>
</section>
<!-- End Teaser Video -->

<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-2">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Generalized robots must learn from diverse, large-scale human-object interactions (HOI) to operate robustly in the real world. Monocular internet videos offer a nearly limitless and readily available source of data, capturing an unparalleled diversity of human activities, objects, and environments. However, accurately and scalably extracting 4D interaction data from these in-the-wild videos remains a significant and unsolved challenge.
            Thus, in this work, we introduce <strong>4DHOISolver</strong>, a novel and efficient optimization framework that constrains the ill-posed 4D HOI reconstruction problem by leveraging sparse, human-in-the-loop contact point annotations, while maintaining high spatio-temporal coherence and physical plausibility.
            Leveraging this framework, we introduce <strong>Open4DHOI</strong>, a new large-scale 4D HOI dataset featuring a diverse catalog of <strong>144</strong> object types and <strong>103</strong> actions.
            Furthermore, we demonstrate the effectiveness of our reconstructions by enabling an RL-based agent to imitate the recovered motions. However, a comprehensive benchmark of existing 3D foundation models indicates that automatically predicting precise human-object contact correspondences remains an unsolved problem, underscoring the immediate necessity of our human-in-the-loop strategy while posing an open challenge to the community.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->

<section class="hero is-small">
  <div class="hero-body">
    <div class="container is-max-widescreen">
      <h2 class="title is-2 has-text-centered">Method Details</h2>
      <div class="scrolling-wrapper-flexbox" id="method-carousel">
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/pipeline.jpg" alt="Pipeline Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Pipeline Overview</p>
        </div>
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/reconstruct.jpg" alt="Reconstruction Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Reconstruction Process</p>
        </div>
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/app.jpg" alt="Application Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Applications</p>
        </div>
        <!-- Duplicate for infinite scroll effect -->
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/pipeline.jpg" alt="Pipeline Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Pipeline Overview</p>
        </div>
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/reconstruct.jpg" alt="Reconstruction Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Reconstruction Process</p>
        </div>
        <div class="pdf-card" style="text-align: center; width: auto; margin-right: 20px;">
          <img src="static/images/methods/app.jpg" alt="Application Method" style="height: 400px; object-fit: contain;">
          <p class="is-size-6 has-text-weight-bold mt-2">Applications</p>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Simple auto-scroll script
  const carousel = document.getElementById('method-carousel');
  let scrollAmount = 0;
  const scrollStep = 1;
  const delay = 20;

  function autoScroll() {
    if (carousel.scrollLeft >= (carousel.scrollWidth - carousel.clientWidth) / 2) {
       carousel.scrollLeft = 0;
    } else {
       carousel.scrollLeft += scrollStep;
    }
  }
  
  let scrollInterval = setInterval(autoScroll, delay);

  carousel.addEventListener('mouseenter', () => clearInterval(scrollInterval));
  carousel.addEventListener('mouseleave', () => scrollInterval = setInterval(autoScroll, delay));
</script>

<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Method Overview</h2>
      <div class="columns is-centered">
        <div class="column is-four-fifths">
          <img src="static/images/pipeline.jpg" alt="Pipeline Image" class="centered-image-pipeline"/>
          <h2 class="subtitle has-text-centered">
            Our pipeline. The optimizer first converts the human and object into 3D Gaussian points, then calculates a rendering loss by
comparing the Gaussian-rendered image with the ground truth image. This loss is backpropagated to update the object’s pose parameters
and the human’s LBS parameters. We also calculate an HOI loss, which includes collision, depth and contact losses. Finally, we refine the result by optimizing the contact regions.
          </h2>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Interactive 3D Objects</h2>
      <div class="columns is-centered">
        <div class="column is-one-third has-text-centered">
           <model-viewer src="static/models/guitar.glb" alt="A 3D model of a guitar" auto-rotate camera-controls style="width: 100%; height: 400px; background-color: #f0f0f0;"></model-viewer>
           <h3 class="subtitle is-4">Electric Guitar</h3>
        </div>
        <div class="column is-one-third has-text-centered">
           <model-viewer src="static/models/dumbbell.glb" alt="A 3D model of a dumbbell" auto-rotate camera-controls style="width: 100%; height: 400px; background-color: #f0f0f0;"></model-viewer>
           <h3 class="subtitle is-4">Dumbbell</h3>
        </div>
      </div>
      <h2 class="subtitle has-text-centered">
        Interact with the 3D models above by dragging to rotate and scrolling to zoom.
      </h2>
    </div>
  </div>
</section>

<!-- End image carousel -->

  <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Reconstruction Results</h2>
      
      <!-- Main Display Area -->
      <div id="demo-display" class="mb-6">
        <!-- Default Content (Badminton) -->
        <div class="columns is-centered">
          <div class="column is-5">
            <div style="border: 1px solid #dbdbdb; border-radius: 4px; overflow: hidden;">
              <header class="has-background-light p-2">
                <p class="title is-5 has-text-centered m-0">Input Video</p>
              </header>
              <div style="display: flex; justify-content: center; align-items: center; background-color: #000; aspect-ratio: 1/1;">
                <video id="main-input-video" autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                  <source src="static/images/badminton_org.webm" type="video/webm">
                </video>
              </div>
            </div>
          </div>
          <div class="column is-5">
            <div style="border: 1px solid #dbdbdb; border-radius: 4px; overflow: hidden;">
              <header class="has-background-light p-2">
                <p class="title is-5 has-text-centered m-0">Reconstruction</p>
              </header>
              <div style="display: flex; justify-content: center; align-items: center; background-color: #000; aspect-ratio: 1/1;">
                <video id="main-recon-video" autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                  <source src="static/images/badminton.webm" type="video/webm">
                </video>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Thumbnails Carousel -->
      <style>
        .carousel-container {
          position: relative;
          width: 100%;
          max-width: 100%;
          overflow-x: hidden; /* Hide scrollbar completely */
          padding: 20px 0;
        }
        
        .carousel-track {
          display: flex;
          align-items: center;
          gap: 20px;
          width: max-content;
          margin: 0 auto;
          /* Transition handled in JS or via class */
        }
        
        .demo-thumbnail {
          flex: 0 0 180px;
          width: 180px;
          transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
          opacity: 0.6;
          transform: scale(0.9);
          cursor: pointer;
          border-radius: 8px;
          overflow: hidden;
          border: 2px solid white;
          background-color: #000;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .demo-thumbnail.is-active {
          opacity: 1;
          transform: scale(1.15);
          border-color: #3273dc;
          box-shadow: 0 10px 20px rgba(0,0,0,0.2);
          z-index: 10;
        }

        .thumbnail-video-container {
          width: 100%;
          aspect-ratio: 16/9;
          background: #000;
          position: relative;
        }
        
        .thumbnail-video-container video {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .thumbnail-label {
          background-color: #f5f5f5;
          padding: 5px;
          text-align: center;
          font-size: 0.8rem;
          font-weight: bold;
        }
      </style>

      <div class="carousel-container" id="thumbnail-carousel">
        <div class="carousel-track" id="carousel-track">
          <!-- Thumbnails injected by JS -->
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Physics Optimization Section -->
<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Physics Optimization</h2>
      <div class="columns is-multiline is-centered">
        
        <!-- Group 1 -->
        <div class="column is-6-desktop is-12-tablet">
            <div class="box" style="background-color: transparent; box-shadow: none;">
                <div class="columns is-mobile is-variable is-1">
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/1.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">Before</p>
                        </div>
                    </div>
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/1_phy.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">After</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Group 2 -->
        <div class="column is-6-desktop is-12-tablet">
            <div class="box" style="background-color: transparent; box-shadow: none;">
                <div class="columns is-mobile is-variable is-1">
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/2.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">Before</p>
                        </div>
                    </div>
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/2_phy.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">After</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Group 3 -->
        <div class="column is-6-desktop is-12-tablet">
            <div class="box" style="background-color: transparent; box-shadow: none;">
                <div class="columns is-mobile is-variable is-1">
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/3.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">Before</p>
                        </div>
                    </div>
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/3_phy.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">After</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Group 4 -->
        <div class="column is-6-desktop is-12-tablet">
            <div class="box" style="background-color: transparent; box-shadow: none;">
                <div class="columns is-mobile is-variable is-1">
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/4.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">Before</p>
                        </div>
                    </div>
                    <div class="column is-6">
                        <div style="border-radius: 4px; overflow: hidden; border: 1px solid #dbdbdb;">
                            <div style="aspect-ratio: 1/1; background: #000;">
                                <video autoplay controls muted loop playsinline style="width: 100%; height: 100%; object-fit: contain;">
                                    <source src="static/images/physics/4_phy.webm" type="video/webm">
                                </video>
                            </div>
                            <p class="has-text-centered is-size-7 has-background-white has-text-weight-bold">After</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

      </div>
    </div>
  </div>
</section>

<script>
const demos = {
  'badminton': {
    input: 'static/images/badminton_org.webm',
    recon: 'static/images/badminton.webm',
    label: 'Badminton'
  },
  'bottle': {
    input: 'static/images/bottle_org.webm',
    recon: 'static/images/bottle.webm',
    label: 'Bottle'
  },
  'electric_guitar': {
    input: 'static/images/electric_guitar_org.webm',
    recon: 'static/images/electric_guitar.webm',
    label: 'Electric Guitar'
  },
  'guitar': {
    input: 'static/images/guitar_org.webm',
    recon: 'static/images/guitar.webm',
    label: 'Guitar'
  },
  'piano': {
    input: 'static/images/piano_org.webm',
    recon: 'static/images/piano.webm',
    label: 'Piano'
  },
  'table': {
    input: 'static/images/table_org.webm',
    recon: 'static/images/table.webm',
    label: 'Table'
  }
};

const demoKeys = Object.keys(demos);
const totalDemos = demoKeys.length;
// We create 3 sets of items for infinite scrolling illusion
// Set 0: Clone (for scrolling left past start)
// Set 1: Main (the one we track)
// Set 2: Clone (for scrolling right past end)
const sets = 3; 
const mainSetIndex = 1; // The middle set

let currentVisualIndex = mainSetIndex * totalDemos; // Start at the beginning of the middle set
let isAutoPlaying = true;

function initCarousel() {
  const track = document.getElementById('carousel-track');
  track.innerHTML = '';

  // Create 3 sets of thumbnails
  for (let s = 0; s < sets; s++) {
    demoKeys.forEach((key, index) => {
      const demo = demos[key];
      const div = document.createElement('div');
      div.className = 'demo-thumbnail';
      div.dataset.key = key;
      div.dataset.index = s * totalDemos + index; // Unique visual index
      div.onclick = () => handleUserClick(key, s * totalDemos + index);
      
      div.innerHTML = `
        <div class="thumbnail-video-container">
          <video muted preload="metadata">
            <source src="${demo.recon}" type="video/webm">
          </video>
        </div>
        <div class="thumbnail-label">${demo.label}</div>
      `;
      track.appendChild(div);
    });
  }

  // Initialize video listener
  const inputVideo = document.getElementById('main-input-video');
  inputVideo.addEventListener('ended', () => {
    if (isAutoPlaying) {
      playNext();
    }
  });

  // Initial selection
  updateSelection(currentVisualIndex, false);
}

function handleUserClick(key, visualIndex) {
  isAutoPlaying = false; // Stop auto-play on interaction
  updateSelection(visualIndex, true);
}

function playNext() {
  updateSelection(currentVisualIndex + 1, true);
}

function updateSelection(visualIndex, animate) {
  const track = document.getElementById('carousel-track');
  const thumbnails = document.querySelectorAll('.demo-thumbnail');
  const container = document.getElementById('thumbnail-carousel');
  
  // Handle wrapping logic
  // If we moved past the end of the middle set + buffer, jump back
  // Actually, simpler: if we are at the end of Set 2 (last set), jump to end of Set 1
  // If we are at start of Set 0, jump to start of Set 1
  
  // But first, let's just update the visual state
  currentVisualIndex = visualIndex;
  
  // Map visual index to data key
  const logicalIndex = currentVisualIndex % totalDemos;
  const key = demoKeys[logicalIndex];
  
  // Update Main Video
  const inputVideo = document.getElementById('main-input-video');
  const reconVideo = document.getElementById('main-recon-video');
  
  // Only update source if changed (to prevent reload on jump if we were to jump)
  // But here we are moving to next, so it always changes
  if (!inputVideo.src.endsWith(demos[key].input)) {
      inputVideo.src = demos[key].input;
      reconVideo.src = demos[key].recon;
      inputVideo.load();
      inputVideo.play();
      reconVideo.load();
      reconVideo.play();
  }

  // Update Thumbnails Styles
  thumbnails.forEach(el => {
    el.classList.remove('is-active');
    el.style.borderColor = 'white';
  });
  
  const activeThumb = thumbnails[currentVisualIndex];
  if (activeThumb) {
    activeThumb.classList.add('is-active');
    activeThumb.style.borderColor = '#3273dc';
    
    // Scroll to center
    const containerCenter = container.clientWidth / 2;
    const elementCenter = activeThumb.offsetLeft + activeThumb.clientWidth / 2;
    let scrollLeft = elementCenter - containerCenter;
    
    container.scrollTo({
      left: scrollLeft,
      behavior: animate ? 'smooth' : 'auto'
    });
  }

  // Check for infinite loop reset
  // If we are in the last set (Set 2), and we just transitioned...
  // We want to jump back to Set 1 (Middle) seamlessly.
  // We can do this after the transition ends.
  // Since we use smooth scroll, we can check after a timeout or transitionend.
  // However, `scrollTo` with behavior smooth doesn't provide a callback.
  // A simple heuristic: if we are deep into Set 2, reset to Set 1.
  // Or if we are deep into Set 0, reset to Set 1.
  
  if (currentVisualIndex >= (sets - 1) * totalDemos) {
    // We are in the last set. Reset to middle set.
    // Wait for scroll to finish (approx 500ms) then jump
    setTimeout(() => {
      currentVisualIndex = currentVisualIndex - totalDemos;
      // Re-apply selection without animation
      const newThumb = thumbnails[currentVisualIndex];
      newThumb.classList.add('is-active'); // Ensure it stays active
      
      const newElementCenter = newThumb.offsetLeft + newThumb.clientWidth / 2;
      const newScrollLeft = newElementCenter - containerCenter;
      
      container.scrollTo({
        left: newScrollLeft,
        behavior: 'auto' // Instant jump
      });
    }, 600); // Slightly longer than transition
  }
  
  if (currentVisualIndex < totalDemos) {
     // We are in the first set. Reset to middle set.
     setTimeout(() => {
      currentVisualIndex = currentVisualIndex + totalDemos;
      const newThumb = thumbnails[currentVisualIndex];
      newThumb.classList.add('is-active');
      
      const newElementCenter = newThumb.offsetLeft + newThumb.clientWidth / 2;
      const newScrollLeft = newElementCenter - containerCenter;
      
      container.scrollTo({
        left: newScrollLeft,
        behavior: 'auto'
      });
    }, 600);
  }
}

document.addEventListener('DOMContentLoaded', initCarousel);
</script>

<!-- End image carousel -->

<!-- Removed old Annotation section as requested to focus on core images first -->
<!-- If you want to keep it, move it to a different location or uncomment -->
<!--
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
    <h2 class="title is-2 has-text-centered">3DHOI Annotation</h2>
      <div id="results-carousel-annot" class="carousel results-carousel">
        <div class="item">
          <img src="static/images/annot2.jpg" alt="MY ALT TEXT" class="centered-image-annot"/>
          <h2 class="subtitle has-text-centered">
            Coarse Reconstruction and Object category distribution in our dataset Open3DHOI.
          </h2>
        </div>
        <div class="item">
          <img src="static/images/annot1.jpg" alt="MY ALT TEXT" class="centered-image-annot"/>
          <h2 class="subtitle has-text-centered">
            Annotation Pipeline.
          </h2>
        </div>
      </div>
    </div>
  </div>
</section>
-->

<!-- Removed old Pipeline section as it is now moved to Method Overview -->
<!--
  <section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Pipeline</h2>
      <div class="columns is-centered">
        <div class="column">
          <img src="static/images/pipeline.jpg" alt="Pipeline Image" class="centered-image-pipeline"/>
          <h2 class="subtitle has-text-centered">
            Our pipeline.
          </h2>
        </div>
      </div>
    </div>
  </div>
</section>
-->

<!-- Removed old Results section as it is now redundant or can be merged -->
<!--
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-2 has-text-centered">Results</h2>
      <div class="columns is-centered">
        <div class="column">
          <img src="static/images/result.jpg" alt="Pipeline Image" class="centered-image-pipeline"/>

        </div>
      </div>
    </div>
  </div>
</section>
-->




<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>BibTex Code Here</code></pre>
    </div>
</section>
<!--End BibTex citation -->


  <footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<!--  <script type="text/javascript" src="./static/js/jquery-1.11.0.min.js"></script>-->
<!--  <script type="text/javascript" src="./static/js/jquery-migrate-1.2.1.min.js"></script>-->
  <script type="text/javascript" src="./slick/slick.min.js"></script>
<!-- Statcounter tracking code -->

<script type="text/javascript">
    $(document).ready(function(){
//   $('.carousel_cl').slick(
//           {
//             dots: true,
//             arrows: true,
//             infinite: true,
//             speed: 300,
//             lazyLoad: 'ondemand',
//             slidesToShow: 3,
//             slidesToScroll: 1
// }
// );
});
    </script>
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>
